webpackJsonp([11],{0:function(e,t,o){e.exports=o("cDNt")},"0ujo":function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o("BkNc"),a=o("8k1a"),r=o("B2Lq"),i=o("2D4A"),u=(o.n(i),function(){function e(e,t,o){var n=this;this.afAuth=e,this.db=t,this.router=o,this.authState=this.afAuth.authState,this.afAuth.authState.subscribe(function(e){n.nowUser=e||null}),this.valueClear()}return Object.defineProperty(e.prototype,"authenticated",{get:function(){return null!==this.nowUser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){return this.authenticated?this.nowUser:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUserObservable",{get:function(){return this.nowUser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUserId",{get:function(){return this.authenticated?this.nowUser.uid:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUserAnonymous",{get:function(){return!!this.authenticated&&this.nowUser.isAnonymous},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUserDisplayName",{get:function(){return this.nowUser?this.currentUserAnonymous?"Anonymous":this.nowUser.displayName||"User without a Name":"Guest"},enumerable:!0,configurable:!0}),e.prototype.signupAdmin=function(e,t,o,n){var a=this;return this.afAuth.auth.createUserWithEmailAndPassword(t,n).then(function(t){a.updateUserData(t,e,"unused",o,"\uc0ac\uc7a5")}).catch(function(e){console.log(e),alert("Register Failed")})},e.prototype.signupEmail=function(e,t,o,n,a){var r=this;return this.afAuth.auth.createUserWithEmailAndPassword(t,a).then(function(t){r.updateUserData(t,e,o,n,"\uc0ac\uc6d0")}).catch(function(e){console.log(e),alert("Register Failed")})},e.prototype.signupGoogle=function(e,t,o,n){var a="User/"+t.replace(/[^0-9a-zA-Z-]/g,""),r="Company/"+e,i={adminID:t.replace(/[^0-9a-zA-Z-]/g,""),companyName:e,email:t,idNo:o,name:n,position:"\uc0ac\uc6d0"};this.db.object(a).update(i).catch(function(e){console.log(e),alert("updateUserData Error")}),this.db.object(r).$ref.child(t.replace(/[^0-9a-zA-Z-]/g,"")).set(!1).catch(function(e){console.log(e),alert("updateCompanyData Error")}),alert("Now, your administrator must accept your account."),this.valueClear(),this.router.navigate(["/login"])},e.prototype.loginEmail=function(e,t){var o=this;this.afAuth.auth.signInWithEmailAndPassword(e,t).then(function(e){o.nowUser=e,o.db.object("User/"+o.nowUser.email.replace(/[^0-9a-zA-Z-]/g,"")).take(1).subscribe(function(e){o.checkAuthentication(e),o.companyName=e.companyName,o.adminID=e.adminID,o.idNumber=e.idNo,o.userName=e.name,o.position=e.position})}).catch(function(e){console.log(e),alert("Login with Email Failed"),o.valueClear()})},e.prototype.loginGoogle=function(){var e=new i.auth.GoogleAuthProvider;return this.googleSignIn(e)},e.prototype.googleSignIn=function(e){var t=this;return this.afAuth.auth.signInWithPopup(e).then(function(e){t.nowUser=e.user,t.checkGoogleData()}).catch(function(e){console.log(e),alert("Login with Google Failed"),t.valueClear()})},e.prototype.updateUserData=function(e,t,o,n,a){var r=this;e.sendEmailVerification().then(function(){var i=e.email.replace(/[^0-9a-zA-Z-]/g,""),u="User/"+i,c="Company/"+t,l={adminID:i,companyName:t,email:e.email,idNo:o,name:n,position:a};r.db.object(u).update(l).catch(function(e){console.log(e),alert("updateUserData Error")}),r.db.object(c).$ref.child(i).set(!1).catch(function(e){console.log(e),alert("updateCompanyData Error")}),"unused"===o&&"Admin"===n&&r.db.object("SemiAdmin").$ref.child(i).set(t).catch(function(e){console.log(e),alert("updateAdminData Error")}),e.updateProfile({displayName:n,photoURL:""}).then(function(){alert("Check your email for verification")}).catch(function(e){console.log(e),alert("Display Name update error")})}).catch(function(e){console.log(e),alert("Your email address is wrong")}),this.router.navigate(["/login"])},e.prototype.checkAuthentication=function(e){var t=this;this.nowUser.emailVerified?this.db.object("Company/"+e.companyName).$ref.once("value",function(o){o.forEach(function(o){if(o.key===e.adminID&&!0===o.val())return t.companyAuth=!0})}).then(function(){t.QRDataSetting(e),t.router.navigate(["/layout"])}):(alert("Your email is not verified!\nCheck your email for verification"),this.valueClear())},e.prototype.checkGoogleData=function(){var e=this;this.db.object("User/"+this.nowUser.email.replace(/[^0-9a-zA-Z-]/g,"")).take(1).subscribe(function(t){t.email===e.nowUser.email?(e.checkAuthentication(t),e.companyName=t.companyName,e.adminID=t.adminID,e.idNumber=t.idNo,e.userName=t.name,e.position=t.position,t.updateProfile({displayName:t.name,photoURL:""}).then(function(){alert("Check your email for verification")}).catch(function(e){console.log(e),alert("Display Name update error")})):(alert("Success!! Write another information"),e.router.navigate(["/signup"]))})},e.prototype.QRDataSetting=function(e){var t=this,o="QR/"+e.companyName;this.db.list(o,{preserveSnapshot:!0}).subscribe(function(e){t.QRkey=[],t.QRdata=[],e.forEach(function(e){t.QRkey.push(e.key)});for(var n=0;n<t.QRkey.length;n++)!function(e){t.QRdata[e]=[],t.db.object(o+"/"+t.QRkey[e]).take(1).subscribe(function(o){t.QRdata[e].push(o.adminID,o.companyName,o.productName,o.detailedProductName,o.serialNumber,o.building,o.floor,o.roomName,o.date,o.price)})}(n)})},e.prototype.updateQRDatas=function(e,t){var o={productName:e.product,detailedProductName:e.verbose,serialNumber:e.serial,companyName:e.company,building:e.building,floor:e.floor,roomName:e.room,date:e.date,adminID:e.ID,price:e.price};"empty"===t?this.db.list("QR/"+this.companyName).push(o):this.db.object("QR/"+this.companyName+"/"+t).update(o).catch(function(e){console.log(e),alert("updateQRDatas Error")})},e.prototype.removeQRData=function(e){if(confirm("Are you sure delete selected datas?")){for(var t=0;t<e.length;t++)this.db.object("QR/"+this.companyName).$ref.child(e[t]).remove().catch(function(e){console.log(e),alert("removeQRData Error")});return!0}return!1},e.prototype.logout=function(){this.afAuth.auth.signOut().catch(function(e){console.log(e)}),this.valueClear()},e.prototype.resetPassword=function(e){return i.auth().sendPasswordResetEmail(e).then(function(){return console.log("email sent")}).catch(function(e){return console.log(e)})},e.prototype.valueClear=function(){this.nowUser=null,this.companyName=null,this.adminID=null,this.idNumber=null,this.userName=null,this.position=null,this.companyAuth=!1,this.QRkey=[],this.QRdata=[]},e.prototype.getNowUserEmail=function(){return null!=this.nowUser?this.nowUser.email:null},e.prototype.getUserName=function(){return this.userName},e.prototype.getCompanyName=function(){return this.companyName},e.prototype.getAuthState=function(){return this.authState},e.prototype.getLoginAuth=function(){return this.companyAuth},e.prototype.getQRKey=function(){return this.QRkey},e.prototype.getQRData=function(){return this.QRdata},e.ctorParameters=function(){return[{type:a.a},{type:r.a},{type:n.l}]},e}())},cDNt:function(e,t,o){"use strict";function n(e){return new c.a(e,"/assets/i18n/",".json")}function a(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i["\u0275did"](212992,null,0,m.p,[m.b,i.ViewContainerRef,i.ComponentFactoryResolver,[8,null],i.ChangeDetectorRef],null,null),(e()(),i["\u0275ted"](null,["\n"]))],function(e,t){e(t,1,0)},null)}function r(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,null,null,1,"app-root",[],null,null,null,a,g)),i["\u0275did"](49152,null,0,s,[f.a],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var i=o("/oeL"),u={production:!0,firebaseConfig:{apiKey:"AIzaSyCv0uXxWQFX2FCs6a21jakKM6AFios4WtE",authDomain:"productmangement-2f3ba.firebaseapp.com",databaseURL:"https://productmangement-2f3ba.firebaseio.com",projectId:"productmangement-2f3ba",storageBucket:"productmangement-2f3ba.appspot.com",messagingSenderId:"1013050485607"}},c=o("kkjc"),l=function(){function e(){}return e}(),d=o("9Qcf"),s=function(){function e(e){this.translate=e,e.addLangs(["en","ko","ja","zh"]),e.setDefaultLang("en");var t=e.getBrowserLang();e.use(t.match(/en|ko|ja|zh/)?t:"en")}return e.ctorParameters=function(){return[{type:d.b}]},e}(),p=[""],m=o("BkNc"),f=o("WDs4"),h=[p],g=i["\u0275crt"]({encapsulation:0,styles:h,data:{}}),y=i["\u0275ccf"]("app-root",s,r,{},{},[]),b=o("qbdv"),N=o("fc+i"),v=o("f9zQ"),A=o("fL27"),D=o("EyWH"),C=o("bm2B"),E=o("CPp0"),R=o("Kfbv"),U=o("Rfiw"),I=o("axsj"),S=o("DQLw"),P=o("Q1nW"),w=o("6cxu"),M=o("R/0y"),L=o("a3e3"),j=o("t0d0"),k=o("R08E"),F=o("Qg/J"),Q=o("maBJ"),O=o("0ujo"),T=o("Dqrr"),z=(o("eqpX"),o("5v8a"),o("5uCp"),function(){function e(e,t){var o=this;this.auth=e,this.router=t,this.authState=null,this.auth.getAuthState().subscribe(function(e){o.authState=e})}return e.prototype.canActivate=function(){var e=this;return T.Observable.from(this.authState).take(1).map(function(e){return!!e}).do(function(t){t||e.router.navigate(["/login"])})},e.ctorParameters=function(){return[{type:O.a},{type:m.l}]},e}()),_=function(){function e(){}return e}(),G=i["\u0275cmf"](l,[s],function(e){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[y]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](5120,i.LOCALE_ID,i["\u0275m"],[[3,i.LOCALE_ID]]),i["\u0275mpd"](4608,b.NgLocalization,b.NgLocaleLocalization,[i.LOCALE_ID]),i["\u0275mpd"](5120,i.APP_ID,i["\u0275f"],[]),i["\u0275mpd"](5120,i.IterableDiffers,i["\u0275k"],[]),i["\u0275mpd"](5120,i.KeyValueDiffers,i["\u0275l"],[]),i["\u0275mpd"](4608,N.DomSanitizer,N["\u0275e"],[b.DOCUMENT]),i["\u0275mpd"](6144,i.Sanitizer,null,[N.DomSanitizer]),i["\u0275mpd"](4608,N.HAMMER_GESTURE_CONFIG,N.HammerGestureConfig,[]),i["\u0275mpd"](5120,N.EVENT_MANAGER_PLUGINS,function(e,t,o,n){return[new N["\u0275DomEventsPlugin"](e),new N["\u0275KeyEventsPlugin"](t),new N["\u0275HammerGesturesPlugin"](o,n)]},[b.DOCUMENT,b.DOCUMENT,b.DOCUMENT,N.HAMMER_GESTURE_CONFIG]),i["\u0275mpd"](4608,N.EventManager,N.EventManager,[N.EVENT_MANAGER_PLUGINS,i.NgZone]),i["\u0275mpd"](135680,N["\u0275DomSharedStylesHost"],N["\u0275DomSharedStylesHost"],[b.DOCUMENT]),i["\u0275mpd"](4608,N["\u0275DomRendererFactory2"],N["\u0275DomRendererFactory2"],[N.EventManager,N["\u0275DomSharedStylesHost"]]),i["\u0275mpd"](5120,v.a,A.d,[]),i["\u0275mpd"](5120,v.c,A.e,[]),i["\u0275mpd"](4608,v.b,A.c,[v.a,v.c]),i["\u0275mpd"](5120,i.RendererFactory2,A.f,[N["\u0275DomRendererFactory2"],v.b,i.NgZone]),i["\u0275mpd"](6144,N["\u0275SharedStylesHost"],null,[N["\u0275DomSharedStylesHost"]]),i["\u0275mpd"](4608,i.Testability,i.Testability,[i.NgZone]),i["\u0275mpd"](4608,N.Meta,N.Meta,[b.DOCUMENT]),i["\u0275mpd"](4608,N.Title,N.Title,[b.DOCUMENT]),i["\u0275mpd"](4608,D.b,A.b,[i.RendererFactory2,N.DOCUMENT]),i["\u0275mpd"](4608,C.f,C.f,[]),i["\u0275mpd"](4608,E.c,E.c,[]),i["\u0275mpd"](4608,E.g,E.b,[]),i["\u0275mpd"](5120,E.i,E.j,[]),i["\u0275mpd"](4608,E.h,E.h,[E.c,E.g,E.i]),i["\u0275mpd"](4608,E.f,E.a,[]),i["\u0275mpd"](5120,E.d,E.k,[E.h,E.f]),i["\u0275mpd"](5120,R.a,U.c,[R.b,I.c]),i["\u0275mpd"](5120,m.a,m.y,[m.l]),i["\u0275mpd"](4608,m.e,m.e,[]),i["\u0275mpd"](6144,m.g,null,[m.e]),i["\u0275mpd"](135680,m.q,m.q,[m.l,i.NgModuleFactoryLoader,i.Compiler,i.Injector,m.g]),i["\u0275mpd"](4608,m.f,m.f,[]),i["\u0275mpd"](5120,m.i,m.B,[m.z]),i["\u0275mpd"](5120,i.APP_BOOTSTRAP_LISTENER,function(e){return[e]},[m.i]),i["\u0275mpd"](5120,S.a,P.b,[R.a]),i["\u0275mpd"](5120,w.a,M.b,[R.a]),i["\u0275mpd"](5120,L.b,n,[E.d]),i["\u0275mpd"](4608,j.a,j.b,[]),i["\u0275mpd"](4608,k.b,k.a,[]),i["\u0275mpd"](4608,F.b,F.a,[]),i["\u0275mpd"](4608,Q.a,Q.a,[]),i["\u0275mpd"](4608,f.a,f.a,[Q.a,L.b,j.a,k.b,F.b,f.b,f.c]),i["\u0275mpd"](4608,O.a,O.a,[S.a,w.a,m.l]),i["\u0275mpd"](4608,z,z,[O.a,m.l]),i["\u0275mpd"](512,b.CommonModule,b.CommonModule,[]),i["\u0275mpd"](1024,i.ErrorHandler,N["\u0275a"],[]),i["\u0275mpd"](1024,i.NgProbeToken,function(){return[m.u()]},[]),i["\u0275mpd"](512,m.z,m.z,[i.Injector]),i["\u0275mpd"](1024,i.APP_INITIALIZER,function(e,t,o){return[N["\u0275c"](e,t),m.A(o)]},[[2,N.NgProbeToken],[2,i.NgProbeToken],m.z]),i["\u0275mpd"](512,i.ApplicationInitStatus,i.ApplicationInitStatus,[[2,i.APP_INITIALIZER]]),i["\u0275mpd"](131584,i["\u0275e"],i["\u0275e"],[i.NgZone,i["\u0275Console"],i.Injector,i.ErrorHandler,i.ComponentFactoryResolver,i.ApplicationInitStatus]),i["\u0275mpd"](2048,i.ApplicationRef,null,[i["\u0275e"]]),i["\u0275mpd"](512,i.ApplicationModule,i.ApplicationModule,[i.ApplicationRef]),i["\u0275mpd"](512,N.BrowserModule,N.BrowserModule,[[3,N.BrowserModule]]),i["\u0275mpd"](512,A.a,A.a,[]),i["\u0275mpd"](512,C.e,C.e,[]),i["\u0275mpd"](512,C.a,C.a,[]),i["\u0275mpd"](512,E.e,E.e,[]),i["\u0275mpd"](512,I.a,I.a,[]),i["\u0275mpd"](1024,m.t,m.w,[[3,m.l]]),i["\u0275mpd"](512,m.s,m.c,[]),i["\u0275mpd"](512,m.b,m.b,[]),i["\u0275mpd"](256,m.h,{},[]),i["\u0275mpd"](1024,b.LocationStrategy,m.v,[b.PlatformLocation,[2,b.APP_BASE_HREF],m.h]),i["\u0275mpd"](512,b.Location,b.Location,[b.LocationStrategy]),i["\u0275mpd"](512,i.Compiler,i.Compiler,[]),i["\u0275mpd"](512,i.NgModuleFactoryLoader,i.SystemJsNgModuleLoader,[i.Compiler,[2,i.SystemJsNgModuleLoaderConfig]]),i["\u0275mpd"](1024,m.j,function(){return[[{path:"",loadChildren:"./login/login.module#LoginModule"},{path:"login",loadChildren:"./login/login.module#LoginModule"},{path:"layout",loadChildren:"./layout/layout.module#LayoutModule"},{path:"signup",loadChildren:"./signup/signup.module#SignupModule"},{path:"not-found",loadChildren:"./not-found/not-found.module#NotFoundModule"},{path:"**",redirectTo:"not-found"}]]},[]),i["\u0275mpd"](1024,m.l,m.x,[i.ApplicationRef,m.s,m.b,b.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,m.j,m.h,[2,m.r],[2,m.k]]),i["\u0275mpd"](512,m.o,m.o,[[2,m.t],[2,m.l]]),i["\u0275mpd"](512,_,_,[]),i["\u0275mpd"](512,P.a,P.a,[]),i["\u0275mpd"](512,M.a,M.a,[]),i["\u0275mpd"](512,d.a,d.a,[]),i["\u0275mpd"](512,l,l,[]),i["\u0275mpd"](256,R.b,{apiKey:"AIzaSyCv0uXxWQFX2FCs6a21jakKM6AFios4WtE",authDomain:"productmangement-2f3ba.firebaseapp.com",databaseURL:"https://productmangement-2f3ba.firebaseio.com",projectId:"productmangement-2f3ba",storageBucket:"productmangement-2f3ba.appspot.com",messagingSenderId:"1013050485607"},[]),i["\u0275mpd"](256,I.c,void 0,[]),i["\u0275mpd"](256,f.c,void 0,[]),i["\u0275mpd"](256,f.b,void 0,[])])});u.production&&Object(i.enableProdMode)(),Object(N.platformBrowser)().bootstrapModuleFactory(G)},gFIY:function(e,t,o){function n(e){var t=a[e];return t?Promise.all(t.slice(1).map(o.e)).then(function(){return o(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var a={"./about/about.module.ngfactory":["/wpN",9],"./datas/datas.module.ngfactory":["FErm",1,0],"./home/home.module.ngfactory":["BnNN",8],"./layout/layout.module.ngfactory":["7fD3",0,7],"./login/login.module.ngfactory":["njmd",5],"./not-found/not-found.module.ngfactory":["Vg0N",4],"./qna/qna.module.ngfactory":["8u9M",0,6],"./scheduler/scheduler.module.ngfactory":["MyP6",2,0],"./signup/signup.module.ngfactory":["uI9u",3]};n.keys=function(){return Object.keys(a)},n.id="gFIY",e.exports=n}},[0]);